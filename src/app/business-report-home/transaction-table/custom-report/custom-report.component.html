<div class="" align="center">
    <div id="loginDiv">
        <i class="material-icons md-48 close-button" (click)="backToBRHome()">close</i>
        <table class="table" style="color:#fff;background: none;width: 58%;">
            <br>
            <tr>
                <td style="width: 50%">
                    <span class="detailSearchLabel">
            Start date
          </span>
                    <input class="form-control" type="date" required #start [max]="today" min="1960-01-02" (change)="startDateValidation(start,end) ">

                    <span *ngIf="dateStatus">
            <i class="fa fa-exclamation-triangle faa-flash animated" aria-hidden="true"></i>
            Please enter a valid date
          </span>

                </td>
                <td style="width: 50%">

                    <span class="detailSearchLabel">
            End date
          </span>
                    <input class="form-control" type="date" required #end [max]="today" min={{start}} (change)="endDateValidation(start,end) ">

                    <span id="dateSearchErrorMessage">
            <i class="fa fa-exclamation-triangle faa-flash animated" aria-hidden="true"></i>
            Please enter a valid date
          </span>
                </td>
            </tr>

        </table>
        <span class="white" *ngIf="dateExceeds" style="text-align: center">
      <i class="fa fa-exclamation-triangle faa-flash animated" aria-hidden="true"></i>
      Date duration should not exceed more than 30 days and should be more than 1 day.
    </span>
        <span class="white" *ngIf="dateError" style="text-align: center">
      <i class="fa fa-exclamation-triangle faa-flash animated" aria-hidden="true"></i>
      Date duration should be more than 1 day.
    </span>
        <br>
        <button md-raised-button (click)="getTransactionDetails(start,end)">View Trannsactions</button>
        <span class="white container" *ngIf="noTransactions" style="text-align: center">
      <i class="fa fa-exclamation-triangle faa-flash animated" aria-hidden="true"></i>
      <strong>Oops!</strong> No transactions happen in these time duration.
    </span>

    </div>
</div>

<div *ngIf="tableStatus" id="tableContainer" class="container">
    <table width="" id="tableHead" class="tableHeadings">
        <tr>
            <th class="coloumnHeadStyle ">Sl.no</th>
            <th class="coloumnHeadStyle ">Transaction Date</th>
            <!-- (click)="sort('item_code','IconUpDownitemCode')" -->
            <th class="coloumnHeadStyle">
                Customer ID
                <br>
            </th>
            <!-- (click)="sort('item_name','IconUpDownitemName')" -->
            <th class="coloumnHeadStyle ">
                Transaction ID
                <br>
            </th>
            <!-- (click)="sort('item_group','IconUpDownitemGroup')" -->
            <th class="coloumnHeadStyle ">
                Payment ID
                <br>
            </th>
            <!-- (click)="sort('item_category','IconUpDownitemCategory')" -->
            <th class="coloumnHeadStyle ">
                Transaction Amount
                <br>
            </th>
            <!-- (click)="sort('item_subcategory','IconUpDownitemSubCategory')" -->
            <th class="coloumnHeadStyle ">
                Product Details
                <br>

            </th>

        </tr>
    </table>
    <div class="content " id="tableContent" class="table">
        <table>
            <tr id="loadTr" *ngFor="let item of transactionArray|orderBy:Otype:Oby;let itemIdx = index">
                <td class="coloumnValueStyle ">{{itemIdx+1}}</td>
                <td class="coloumnValueStyle ">{{item.timestamp}}</td>
                <td class="coloumnValueStyle ">{{item.customer_id}}</td>
                <td class="coloumnValueStyle ">{{item.trxn_id}}</td>
                <td class="coloumnValueStyle ">{{item.payment_id}}</td>
                <td class="coloumnValueStyle ">{{item.trxn_amount}}</td>
                <td class="coloumnValueStyle ">
                    <a data-toggle="modal" data-target="#myModalCustom" (click)="productDetails(itemIdx)">Product Details</a>
                </td>
            </tr>
        </table>
    </div>
    <div id="myModalCustom" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div>
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&nbsp;&nbsp;&times;&nbsp;&nbsp;</button>
                        <h4 class="modal-title">Product details</h4>
                    </div>
                    <div class="modal-body">
                        <table width="" id="tableHead" class="tableHeadings">
                            <tr>
                                <!-- (click)="sort('item_code','IconUpDownitemCode')" -->
                                <th class="coloumnHeadStyle">
                                    Item Code
                                    <br>
                                </th>
                                <!--  (click)="sort('item_name','IconUpDownitemName')" -->
                                <th class="coloumnHeadStyle">
                                    Item Color
                                    <br>
                                </th>
                                <!-- (click)="sort('item_group','IconUpDownitemGroup')" -->
                                <th class="coloumnHeadStyle">
                                    Item Name
                                    <br>
                                </th>
                                <th class="coloumnHeadStyle">
                                    Item Size
                                    <br>
                                </th>
                                <th class="coloumnHeadStyle">
                                    Quantity
                                    <br>
                                </th>
                                <th class="coloumnHeadStyle">
                                    item SP
                                    <br>
                                </th>
                            </tr>
                            <tr id="loadTr" *ngFor="let product of  ProductArray">
                                <td class="coloumnValueStyle">{{product.item_code}}</td>
                                <td class="coloumnValueStyle">{{product.item_color}}</td>
                                <td class="coloumnValueStyle">{{product.item_name}}</td>
                                <td class="coloumnValueStyle">{{product.item_size}}</td>
                                <td class="coloumnValueStyle">{{product.quantity}}</td>
                                <td class="coloumnValueStyle">{{product.item_sp}}</td>
                            </tr>
                        </table>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container center" *ngIf="tableStatus">
    <br>
    <button md-raised-button (click)=printCSV()>Download CSV</button>

</div>
<svg id="loaderDiv" width="70" height="20" *ngIf="loading">

  <circle cx="10" cy="10" r="0">
    <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" dur="1000ms" repeatCount="indefinite" />
  </circle>

  <circle cx="35" cy="10" r="0">
    <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" begin="200ms" dur="1000ms" repeatCount="indefinite" />
  </circle>

  <circle cx="60" cy="10" r="0">
    <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" begin="400ms" dur="1000ms" repeatCount="indefinite" />
  </circle>
</svg>