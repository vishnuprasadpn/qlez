<div class="animate-fade" *ngIf="searchByID">
    <h1 style="font-size:41px;font-weight:600;">CUSTOMER SEARCH FORM</h1>
    <br>
    <p style="font-size: 25px;line-height: 44px;padding: 10px;">
        Use any of the below mode of search for finding an existing customer. Customer Operations can only carried out after Identifying using any of followng methods</p>
    <br><br><br>

    <table width="100%">
        <tr>
            <td width="45%">
                <div class="animate-fade option-tab grow" id="scan-option-tab" (click)="scanCustomerID()">
                    <table width="100%">
                        <tr>
                            <td>
                                <p class="option-tab-text">SCAN FOR ID</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
            <td width="10%"></td>
            <td width="45%">
                <div class="option-tab grow" id="search-option-tab" (click)="searchByDetailSection()">
                    <table width="100%">
                        <tr>
                            <td>
                                <p class="option-tab-text">SEARCH BY DETAILS</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>

<div class="animate-fade" *ngIf="searchByDetails">

    <h1 style="font-size:41px;font-weight:600;">CUSTOMER SEARCH FORM</h1>
    <br>
    <p style="font-size: 25px;line-height: 44px;padding: 10px;">
        Please enter the following details of the customer for Searching</p>
    <br><br>
    <table class="table">
        <br>
        <tr>
            <td>
                <input class="inputField" type="text" required #firstName (focusout)="validateSearchFName(firstName)" (keyup)="validateSearchFName(firstName)" (focus)="selectSearchFName()" placeholder="FIRST NAME">

                <span *ngIf="fNameSearchError" class="warning-message animate-fade">
					Please enter a valid First Name !
				</span>
            </td>

            <td>
                <input class="inputField" type="text" required #contact (focusout)="validateSearchContact(contact)" (keyup)="validateSearchContact(contact)" (focus)="selectSearchPContact()" placeholder="PRIMARY CONTACT">

                <span *ngIf="contactSearchError" class="warning-message animate-fade">
					Please enter a valid Contact !
				</span>
            </td>

            <td>
                <input class="inputField" type="date" placeholder="DATE OF BIRTH : " id="customerDOB" [max]="2014-01-01" required #dob (change)="validateSearchDate(dob)" (focus)="selectSearchDate()">
                <span *ngIf="dateSearchError" class="warning-message animate-fade">
					Please enter a valid date
				</span>
            </td>
        </tr>
        <br>
        <br>
    </table>

    <!-- Customer Search By Details Action-->
    <table class="table">
        <tr>
            <td align="center" width="50%">
                <div class="animate-fade option-tab grow" id="search-option-tab" (click)="searchCustomer(firstName,contact,dob)">
                    <table width="100%">
                        <tr>
                            <td>
                                <p class="option-tab-text">SEARCH CUSTOMER</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
            <td align="center" width="50%">
                <div class="option-tab grow" id="cancel-option-tab" (click)="searchByIDSection()">
                    <table width="100%">
                        <tr>
                            <td>
                                <p class="option-tab-text">SEARCH BY ID</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>

<div class="animate-fade" *ngIf="loadingProgress">
    <h1>Loading.. Please Wait</h1>
    <br><br><br>

    <svg width="70" height="20">
        <circle cx="10" cy="10" r="0">
            <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" dur="1000ms" repeatCount="indefinite" />
        </circle>
        <circle cx="35" cy="10" r="0">
            <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" begin="200ms" dur="1000ms" repeatCount="indefinite" />
        </circle>
        <circle cx="60" cy="10" r="0">
            <animate attributeName="r" from="0" to="10" values="0;10;10;10;0" begin="400ms" dur="1000ms" repeatCount="indefinite" />
        </circle>
    </svg>

</div>

<div class="animate-fade" *ngIf="noCustomerIDFound" align="center">

    <br><br>

    <h1 style="font-weight: 700;">SORRY ! NO CUSTOMER CARD WAS DETECTED. PLEASE RETRY.</h1>

    <br><br><br><br>

    <div class="option-tab grow" id="scan-option-tab" (click)="scanCustomerID()">
        <table width="100%">
            <tr>
                <td>
                    <p class="option-tab-text">TRY AGAIN</p>
                </td>
            </tr>
        </table>
    </div>

    <br><br><br>

    <div class="option-tab grow" id="search-option-tab" (click)="searchByDetailSection()">
        <table width="100%">
            <tr>
                <td>
                    <p class="option-tab-text">SEARCH BY DETAILS</p>
                </td>
            </tr>
        </table>
    </div>

    <br><br><br>

    <div class="option-tab grow" id="cancel-option-tab" (click)="cancelProcess()">
        <table width="100%">
            <tr>
                <td>
                    <p class="option-tab-text">CANCEL SCAN</p>
                </td>
            </tr>
        </table>
    </div>

</div>

<div class="animate-fade" *ngIf="notRegisteredCustomer" align="center">

    <br><br>

    <h1 style="font-weight: 700;">SORRY ! NO CUSTOMER DETAILS WAS FOUND.</h1>

    <br><br><br><br>

    <div class="option-tab" id="cancel-option-tab" (click)="cancelProcess()">
        <table width="100%">
            <tr>
                <td>
                    <p class="option-tab-text">CLOSE PROCESS</p>
                </td>
            </tr>
        </table>
    </div>

</div>

<div class="animate-fade" *ngIf="noResponse" align="center">
    <br><br>

    <h1 style="font-weight: 700;">Oops.. Something went Wrong. <br><br>Please check connections and Try Again</h1>

    <br><br><br><br>

    <div class="option-tab" id="cancel-option-tab" (click)="cancelProcess()">
        <table width="100%">
            <tr>
                <td>
                    <p class="option-tab-text">CLOSE PROCESS</p>
                </td>
            </tr>
        </table>
    </div>

</div>

<div class="animate-fade" *ngIf="customerProfile">

    <div class="row">

        <table class="table">

            <tr>

                <td width="60%">

                    <table class="table">

                        <tr>
                            <td><i class="material-icons">account_circle</i></td>

                            <td>

                                <p *ngIf="customerNameValue" class="customerDetailText">: {{customerfName}} {{customerlName}}</p>

                                <div class="row" *ngIf="customerNameEditFields">

                                    <div class="col-lg-6">

                                        <input class="inputField" type="text" #customerFname value="{{customerfName}}" (keyup)="validateEditFName(customerFname)" (focusout)="validateEditFName(customerFname)">
                                        <span *ngIf="customerFnameErrorMessage" class="animate-fade warning-message">In-valid First Name</span>

                                    </div>

                                    <div class="col-lg-6">

                                        <input class="inputField" type="text" #customerLname value="{{customerlName}}" (keyup)="validateEditLName(customerLname)" (focusout)="validateEditLName(customerLname)">
                                        <span *ngIf="customerLnameErrorMessage" class=" animate-fade warning-message">In-valid Second Name</span>

                                    </div>

                                </div>

                            </td>

                            <td>

                                <i class="material-icons" *ngIf="editCustomerNameIcon" (click)="editCustomerName()">create</i>

                                <div class="row">

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="saveCustomerNameIcon" id="saveCustomerNameIcon" (click)="saveCustomerNameFunction()">done</i>

                                    </div>

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="cancelCustomerNameIcon" (click)="cancelCustomerNameFunction()" style="float: left">cancel</i>

                                    </div>

                                </div>

                            </td>

                        </tr>

                        <br>

                        <tr>

                            <td><i class="material-icons">contact_phone</i></td>

                            <td>

                                <p *ngIf="customerPContactValue" class="customerDetailText">: {{customerPNumber}}</p>

                                <input *ngIf="customerPContactEditInput" class="inputField" type="text" #customerPContact value="{{customerPNumber}}" (keyup)="validatePContact(customerPContact)" (focusout)="validatePContact(customerPContact)">
                                <span *ngIf="customerPContactErrorMessage" class="warning-message">In-valid Primary Contact</span>

                            </td>

                            <td>

                                <i class="material-icons" *ngIf="editCustomerPContactIcon" (click)="editCustomerPContact()">create</i>

                                <div class="row">

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="saveCustomerPContactIcon" id="saveCustomerPContactIcon" #saveContactIcon (click)="saveCustomerPContactFunction()">done</i>

                                    </div>

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="cancelCustomerPContactIcon" (click)="cancelCustomerPContactFunction()">cancel</i>

                                    </div>

                                </div>

                            </td>

                        </tr>

                        <br>

                        <tr>
                            <td><i class="material-icons">contact_mail</i></td>

                            <td>
                                <p *ngIf="customerEmailValue" class="customerDetailText">: {{customerEmail}}</p>

                                <input *ngIf="customerEmailEditInput" class="inputField" type="text" #customerMail value="{{customerEmail}}" (keyup)="validateEmail(customerMail)" (focusout)="validateEmail(customerMail)">
                                <span *ngIf="customerMailErrorMessage" class="warning-message animate-fade">In-valid Email ID</span>

                            </td>

                            <td>

                                <i class="material-icons" *ngIf="editCustomerEmailIcon" (click)="editCustomerEmail()">create</i>

                                <div class="row">

                                    <div class="col-lg-6">

                                        <i *ngIf="saveCustomerEmailIcon" id="saveCustomerEmailIcon" #saveEmailIcon class="material-icons" (click)="saveCustomerEmailFunction()">done</i>

                                    </div>

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="cancelCustomerEmailIcon" (click)="cancelCustomerEmailFunction()">cancel</i>

                                    </div>

                                </div>

                            </td>

                        </tr>

                        <br>

                        <tr>
                            <td><i class="material-icons">contacts</i></td>

                            <td>
                                <p *ngIf="customerSContactValue" class="customerDetailText">: {{customerSNumber}}</p>

                                <input *ngIf="customerSContactEditInput" class="inputField" type="text" #customerSContact value="{{customerSNumber}}" (keyup)="validateSContact(customerSContact)" (focusout)="validateSContact(customerSContact)">
                                <span *ngIf="customerSContactErrorMessage" class="warning-message animate-fade">In-valid Secondary Contact</span>

                            </td>

                            <td>

                                <i class="material-icons" *ngIf="editCustomerSContactIcon" (click)="editCustomerSContact()">create</i>

                                <div class="row">

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="saveCustomerSContactIcon" id="saveCustomerSContactIcon" (click)="saveCustomerSContactFunction()" #saveSContactIcon>done</i>

                                    </div>

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="cancelCustomerSContactIcon" (click)="cancelCustomerSContactFunction()">cancel</i>

                                    </div>

                                </div>

                            </td>

                        </tr>

                        <br>

                        <tr>

                            <td><i class="material-icons">home</i></td>
                            <td>

                                <p *ngIf="customerAddressValue" class="customerDetailText">: {{customerAddress}}</p>

                                <input *ngIf="customerAddressEditInput" class="inputField" type="text" #customerAddressEditedValue value="{{customerAddress}}" (keyup)="validateAddress(customerAddressEditedValue)" (focusout)="validateAddress(customerAddressEditedValue)">
                                <span *ngIf="customerAddressErrorMessage" class="warning-message animate-fade">In-valid Address</span>

                            </td>

                            <td>

                                <i class="material-icons" *ngIf="editCustomerAddressIcon" (click)="editCustomerAddress()">create</i>

                                <div class="row">

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="saveCustomerAddressIcon" id="saveCustomerAddressIcon" #saveAddressIcon (click)="saveCustomerAddressFunction()">done</i>

                                    </div>

                                    <div class="col-lg-6">

                                        <i class="material-icons" *ngIf="cancelCustomerAddressIcon" (click)="cancelCustomerAddressFunction()">cancel</i>

                                    </div>

                                </div>

                            </td>

                        </tr>

                    </table>

                    <br><br>

                    <table class="table">

                        <tr>

                            <td align="center" width="50%">

                                <p style="font-size: 24px;font-weight: 700;">Earned Cash Coins</p>
                                <br>
                                <p class="customerDetailText">{{customerEarned}}</p>

                            </td>

                            <td align="center" width="50%">
                                <p style="font-size: 24px;font-weight: 700;">Deposit Cash Balance</p>
                                <br>
                                <p class="customerDetailText">{{customerDeposit}}</p>
                            </td>

                        </tr>
                        <br><br>
                        <tr>

                            <td align="center">

                                <div class="animate-fade option-tab grow" id="addQCC-option-tab" (click)="qlezCashOverlayMethod('add')">
                                    <table width="100%">
                                        <tr>
                                            <td>
                                                <p class="option-tab-text">ADD QCC</p>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </td>


                            <td align="center">
                                <div class="animate-fade option-tab grow" id="deductQCC-option-tab" (click)="qlezCashOverlayMethod('reduce')">
                                    <table width="100%">
                                        <tr>
                                            <td>
                                                <p class="option-tab-text">DEDUCT QCC</p>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>

                        </tr>

                    </table>
                </td>

                <td align="center">
                    <img src="{{customerImage}}" class="img-responsive" style="width:250px">
                    <br>
                    <table class="table" style="cursor: pointer">

                        <tr (click)="changeImage()" *ngIf="changeImageOption">

                            <td align="right" width="40%"><i class="material-icons">photo_camera</i></td>

                            <td align="left" width="60%" style="font-size: 25px;">Change Image</td>

                        </tr>

                    </table>
                    <br>
                    <table *ngIf="changeImageEditInput">
                        <tr>

                            <td>

                                <input id="imageLinkInput" class="form-control" type="text" style="width: auto;border-radius: 0px" #imageUrl value="{{customerImage}}" (focusout)="validateImage(imageUrl,saveImageIcon)" (keyup)="validateImage(imageUrl,saveImageIcon)">

                            </td>

                            <td>

                                <i *ngIf="saveImageLinkIcon" id="saveImageLinkIcon" #saveImageIcon class="material-icons" (click)="saveCustomerImageFunction(imageUrl)">done</i>

                                <i class="material-icons" *ngIf="cancelImageLinkIcon" (click)="cancelCustomerImageFunction()">cancel</i>

                            </td>

                        </tr>

                    </table>
                    <br><br>

                    <table class="table" width="100%">

                        <br><br>

                        <br>

                        <tr>

                            <td align="center">
                                <div class="animate-fade option-tab grow" id="transaction-option-tab" (click)="viewTransactions()">
                                    <table width="100%">
                                        <tr>
                                            <td>
                                                <p class="option-tab-text">CUSTOMER TRANSACTIONS</p>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>

                        </tr>

                        <br>

                        <tr>

                            <td align="center">
                                <div class="animate-fade option-tab grow" id="logout-option-tab" (click)="cancelProcess()">
                                    <table width="100%">
                                        <tr>
                                            <td>
                                                <p class="option-tab-text">LOGOUT</p>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>

                        </tr>

                    </table>

                </td>

            </tr>
        </table>


    </div>

</div>

<div class="animate-fade" *ngIf="showTransactions">
    <customer-transaction></customer-transaction>
    <p style="text-align: center"><a style="font-weight: 600;font-size: 26px;" (click)="hideTransaction()">Hide Transaction</a></p>
</div>

<div class="animate-fade" *ngIf="QCCSection" align="center">

    <div align="center">
        <h1 style="font-weight: 600;">Qlez Cash Operation</h1>
    </div>

    <br>
    <p class="customerDetailText">{{customerfName}} {{customerlName}}</p>

    <br>

    <table class="table">
        <tr>

            <td align="center" width="50%">

                <p style="font-size: 24px;font-weight: 700;">Earned Cash Coins</p>
                <br>
                <p class="customerDetailText">{{customerEarned}}</p>

            </td>

            <td align="center" width="50%">
                <p style="font-size: 24px;font-weight: 700;">Deposit Cash Balance</p>
                <br>
                <p class="customerDetailText">{{customerDeposit}}</p>
            </td>

        </tr>
    </table>

    <h2 *ngIf="deductQCC">Please Enter the amount to be Deducted from the Customer Account in the below Input.</h2>


    <h2 *ngIf="addQCC">Please Enter the amount to be Added to the Customer Account in the below Input.</h2>
    <br>

    <h3 style="font-weight: 700;">Please Make the customer enter their PASSCODE for authentication.</h3>
    <br>

    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            <table class="table">
                <tr>
                    <td width="50%">
                        <input class="inputField" type="text" id="amount" required #amountR (focusout)="validateCash(amountR)" (keyup)="validateCash(amountR)" min="1" value="" placeholder="ENTER AMOUNT">
                        <span *ngIf="rechargeErrorMessage" class="warning-message animate-fade">Please enter a valid Amount !</span>
                    </td>
                    <td>
                        <input class="inputField" type="text" id="cPin" required #cPin (focusout)="validateCPin(cPin)" (keyup)="validateCPin(cPin)" min="1" value="" placeholder="CUSTOMER PASS-CODE">
                        <span *ngIf="pinErrorMessage" class="warning-message animate-fade">Please enter the Valid Customer Pin !</span>
                    </td>
                </tr>
                <br>
                <br>
                <tr>
                    <td width="50%">
                        <div class="option-tab" *ngIf="deductQCC" id="deductQCCAmt-option-tab" (click)="withDrawCash(amountR,cPin)">
                            <table width="100%">
                                <tr>
                                    <td>
                                        <p class="option-tab-text">DEDUCT QCC AMOUNT</p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="option-tab" *ngIf="addQCC" id="addQCCAmt-option-tab" (click)="rechargeCash(amountR,cPin)">
                            <table width="100%">
                                <tr>
                                    <td>
                                        <p class="option-tab-text">ADD QCC AMOUNT</p>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </td>

                    <td>
                        <div class="option-tab" id="cancelqcc-option-tab" (click)="cancelQCCUpdate()">
                            <table width="100%">
                                <tr>
                                    <td>
                                        <p class="option-tab-text">CLOSE QCC POINT</p>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="col-lg-2"></div>
    </div>
    <br>
    <br>
    <div class="animate-fade alert" *ngIf="amountErrorMessage" align="center">
        <p class="warning-message "> SORRY OUT OF LIMIT CASH ENTRY.</p>
    </div>
    <div class="animate-fade alert" *ngIf="wrongPinMessage" align="center">
        <p class="warning-message"> SORRY THE PIN ENTERED IS INVALID PLEASE RETRY.</p>
    </div>
    <div class=" animate-fade success" *ngIf="coinUpdateSuccessMessage" align="center">
        <p class="warning-message"> CASH COINS HAVE BEEN UPDATED SUCCESSFULLY.</p>
    </div>
</div>